{"version":3,"names":["exhaustiveCheck","a","Error","identity4","translate","x","y","z","scale","sx","sy","sz","skewX","s","Math","tan","skewY","perspective","p","normalizeVec","vec","length","sqrt","rotatedUnitSinCos","axisVec","sinAngle","cosAngle","c","t","rotate","axis","value","sin","cos","matrixVecMul4","m","v","vx","vy","vz","vw","mapPoint3d","r","multiply4","b","result","Array","fill","i","j","toMatrix3","processTransform3d","transforms","reduce","acc","val","key","Object","keys","transform","concat4","rotateX","rotateY","rotateZ","Matrix4"],"sources":["Matrix4.ts"],"sourcesContent":["type Vec2 = readonly [number, number];\ntype Vec3 = readonly [number, number, number];\ntype Vec4 = readonly [number, number, number, number];\n\nexport type Matrix4 = readonly [\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number\n];\n\ntype Transform3dName =\n  | \"translateX\"\n  | \"translateY\"\n  | \"translateZ\"\n  | \"translate\"\n  | \"scale\"\n  | \"scaleX\"\n  | \"scaleY\"\n  | \"skewX\"\n  | \"skewY\"\n  | \"rotateZ\"\n  | \"rotate\"\n  | \"perspective\"\n  | \"rotateX\"\n  | \"rotateY\"\n  | \"rotateZ\"\n  | \"matrix\";\n\ntype Transformations = {\n  [Name in Transform3dName]: Name extends \"matrix\"\n    ? Matrix4\n    : Name extends \"translate\"\n    ? Vec3 | Vec2\n    : number;\n};\n\ntype Transform3d =\n  | Pick<Transformations, \"translateX\">\n  | Pick<Transformations, \"translateY\">\n  | Pick<Transformations, \"translateZ\">\n  | Pick<Transformations, \"translate\">\n  | Pick<Transformations, \"scale\">\n  | Pick<Transformations, \"scaleX\">\n  | Pick<Transformations, \"scaleY\">\n  | Pick<Transformations, \"skewX\">\n  | Pick<Transformations, \"skewY\">\n  | Pick<Transformations, \"perspective\">\n  | Pick<Transformations, \"rotateX\">\n  | Pick<Transformations, \"rotateY\">\n  | Pick<Transformations, \"rotateZ\">\n  | Pick<Transformations, \"rotate\">\n  | Pick<Transformations, \"matrix\">;\n\nexport type Transforms3d = Transform3d[];\n\nconst exhaustiveCheck = (a: never): never => {\n  \"worklet\";\n  throw new Error(`Unexhaustive handling for ${a}`);\n};\n\n/**\n * @worklet\n */\nexport const identity4: Matrix4 = [\n  1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1,\n];\n\nconst translate = (x: number, y: number, z: number): Matrix4 => {\n  \"worklet\";\n  return [1, 0, 0, x, 0, 1, 0, y, 0, 0, 1, z, 0, 0, 0, 1];\n};\n\nconst scale = (sx: number, sy: number, sz: number): Matrix4 => {\n  \"worklet\";\n  return [sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1];\n};\n\nconst skewX = (s: number): Matrix4 => {\n  \"worklet\";\n  return [1, 0, 0, 0, Math.tan(s), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n};\n\nconst skewY = (s: number): Matrix4 => {\n  \"worklet\";\n  return [1, Math.tan(s), 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n};\n\nconst perspective = (p: number): Matrix4 => {\n  \"worklet\";\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -1 / p, 1];\n};\n\nconst normalizeVec = (vec: Vec3): Vec3 => {\n  \"worklet\";\n  const [x, y, z] = vec;\n  const length = Math.sqrt(x * x + y * y + z * z);\n  // Check for zero length to avoid division by zero\n  if (length === 0) {\n    return [0, 0, 0];\n  }\n  return [x / length, y / length, z / length];\n};\n\nconst rotatedUnitSinCos = (\n  axisVec: Vec3,\n  sinAngle: number,\n  cosAngle: number\n): Matrix4 => {\n  \"worklet\";\n  const [x, y, z] = axisVec;\n  const c = cosAngle;\n  const s = sinAngle;\n  const t = 1 - c;\n  return [\n    t * x * x + c,\n    t * x * y - s * z,\n    t * x * z + s * y,\n    0,\n    t * x * y + s * z,\n    t * y * y + c,\n    t * y * z - s * x,\n    0,\n    t * x * z - s * y,\n    t * y * z + s * x,\n    t * z * z + c,\n    0,\n    0,\n    0,\n    0,\n    1,\n  ];\n};\n\nconst rotate = (axis: Vec3, value: number) => {\n  \"worklet\";\n  return rotatedUnitSinCos(\n    normalizeVec(axis),\n    Math.sin(value),\n    Math.cos(value)\n  );\n};\n\n/**\n * @worklet\n */\nexport const matrixVecMul4 = (m: Matrix4, v: Vec4) => {\n  \"worklet\";\n  const [vx, vy, vz, vw] = v;\n  return [\n    vx * m[0] + vy * m[4] + vz * m[8] + vw * m[12],\n    vx * m[1] + vy * m[5] + vz * m[9] + vw * m[13],\n    vx * m[2] + vy * m[6] + vz * m[10] + vw * m[14],\n    vx * m[3] + vy * m[7] + vz * m[11] + vw * m[15],\n  ];\n};\n\n/**\n * @worklet\n */\nexport const mapPoint3d = (m: Matrix4, v: Vec3) => {\n  \"worklet\";\n  const r = matrixVecMul4(m, [...v, 1]);\n  return [r[0] / r[3], r[1] / r[3], r[2] / r[3]] as const;\n};\n\n/**\n * @worklet\n */\nexport const multiply4 = (a: Matrix4, b: Matrix4): Matrix4 => {\n  \"worklet\";\n  const result = new Array(16).fill(0);\n  for (let i = 0; i < 4; i++) {\n    for (let j = 0; j < 4; j++) {\n      result[i * 4 + j] =\n        a[i * 4] * b[j] +\n        a[i * 4 + 1] * b[j + 4] +\n        a[i * 4 + 2] * b[j + 8] +\n        a[i * 4 + 3] * b[j + 12];\n    }\n  }\n  return result as unknown as Matrix4;\n};\n\n/**\n * @worklet\n */\nexport const toMatrix3 = (m: Matrix4) => {\n  \"worklet\";\n  return [m[0], m[1], m[3], m[4], m[5], m[7], m[12], m[13], m[15]];\n};\n\n/**\n * @worklet\n */\nexport const processTransform3d = (transforms: Transforms3d) => {\n  \"worklet\";\n  return transforms.reduce((acc, val) => {\n    const key = Object.keys(val)[0] as Transform3dName;\n    const transform = val as Pick<Transformations, typeof key>;\n    if (key === \"translateX\") {\n      const value = transform[key];\n      return multiply4(acc, translate(value, 0, 0));\n    }\n    if (key === \"translate\") {\n      const [x, y, z = 0] = transform[key];\n      return multiply4(acc, translate(x, y, z));\n    }\n    if (key === \"translateY\") {\n      const value = transform[key];\n      return multiply4(acc, translate(0, value, 0));\n    }\n    if (key === \"translateZ\") {\n      const value = transform[key];\n      return multiply4(acc, translate(0, 0, value));\n    }\n    if (key === \"scale\") {\n      const value = transform[key];\n      return multiply4(acc, scale(value, value, 1));\n    }\n    if (key === \"scaleX\") {\n      const value = transform[key];\n      return multiply4(acc, scale(value, 1, 1));\n    }\n    if (key === \"scaleY\") {\n      const value = transform[key];\n      return multiply4(acc, scale(1, value, 1));\n    }\n    if (key === \"skewX\") {\n      const value = transform[key];\n      return multiply4(acc, skewX(value));\n    }\n    if (key === \"skewY\") {\n      const value = transform[key];\n      return multiply4(acc, skewY(value));\n    }\n    if (key === \"rotateX\") {\n      const value = transform[key];\n      return multiply4(acc, rotate([1, 0, 0], value));\n    }\n    if (key === \"rotateY\") {\n      const value = transform[key];\n      return multiply4(acc, rotate([0, 1, 0], value));\n    }\n    if (key === \"perspective\") {\n      const value = transform[key];\n      return multiply4(acc, perspective(value));\n    }\n    if (key === \"rotate\" || key === \"rotateZ\") {\n      const value = transform[key];\n      return multiply4(acc, rotate([0, 0, 1], value));\n    }\n    if (key === \"matrix\") {\n      const value = transform[key];\n      return multiply4(acc, value);\n    }\n    return exhaustiveCheck(key);\n  }, identity4);\n};\n\n/**\n * @worklet\n */\nexport const concat4 = (m: Matrix4, transform: Transforms3d) => {\n  \"worklet\";\n  return multiply4(m, processTransform3d(transform));\n};\n\n/**\n * @worklet\n */\nexport const rotateX = (value: number) => {\n  \"worklet\";\n  return rotate([1, 0, 0], value);\n};\n\n/**\n * @worklet\n */\nexport const rotateY = (value: number) => {\n  \"worklet\";\n  return rotate([0, 1, 0], value);\n};\n\n/**\n * @worklet\n */\nexport const rotateZ = (value: number) => {\n  \"worklet\";\n  return rotate([0, 0, 1], value);\n};\n\nexport const Matrix4 = {\n  translate,\n  scale,\n  rotateX,\n  rotateY,\n  rotateZ,\n};\n"],"mappings":"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"}